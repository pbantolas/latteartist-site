---
// src/components/SignupForm.astro
---

<div class="card-container signup-form-container" id="signup-container">
	<h2>Want to Track Your Progress Too? Join the Waitlist ðŸ‘‡</h2>
	<!-- EmailOctopus Embedded Form Script -->
	<script
		async
		src="https://eocampaign1.com/form/be5ce5f8-10bd-11f0-8871-7bb29bbe8677.js"
		data-form="be5ce5f8-10bd-11f0-8871-7bb29bbe8677"
		is:inline></script>

	<!-- Static Android Checkbox Container (hidden initially, positioned below form) -->
	<div
		id="android-checkbox-static-container"
		class="android-checkbox-container"
		style="display: none;"
	>
		<label class="android-checkbox-label">
			<span class="custom-checkbox"></span> I'm an Android user â€” let me know
			when this is available for Android.
		</label>
	</div>
</div>

<style>
	/* Styles specific to SignupForm component */
	/* .card-container base styles are in Layout.astro */
	.signup-form-container {
		display: flex;
		flex-direction: column;
		align-items: center;
		padding: calc(
			var(--spacing-unit) * 3
		); /* Increased padding for AirOS Generous spec */
	}

	.signup-form-container h2 {
		font-optical-sizing: auto;
		font-size: 1.5em;
		font-weight: 500;
		color: var(--text-primary);
		text-align: center;
		margin-bottom: var(--spacing-unit);
		margin-top: 0;
	}

	.signup-form-container form {
		margin: 0;
		width: 100%;
	}

	/* Custom Android Checkbox Styles */
	.android-checkbox-container {
		display: none; /* Hidden by default, JS makes it visible */
		margin-top: calc(
			var(--spacing-unit) * 1.5
		); /* Increased top margin slightly */
		margin-bottom: 0; /* Remove bottom margin, let parent handle spacing */
		text-align: left; /* Align text to the left */
		width: 100%;
		max-width: 300px; /* Re-add max-width for left alignment */
		align-self: center; /* Keep container centered */
		margin-left: auto; /* Center the container */
		margin-right: auto; /* Center the container */
	}

	.android-checkbox-label {
		display: inline-flex; /* Use inline-flex */
		align-items: flex-start; /* Align items to the top */
		cursor: pointer;
		font-size: 0.85em; /* Slightly smaller font */
		color: var(--text-secondary);
	}

	.custom-checkbox {
		display: inline-block;
		width: 18px; /* Slightly smaller */
		height: 18px; /* Slightly smaller */
		background-color: var(--card-background);
		border: 1.5px solid var(--border-color);
		border-radius: 5px; /* Slightly smaller radius */
		margin-right: 0.6em; /* Reduced margin */
		position: relative;
		transition:
			background-color 0.2s ease,
			border-color 0.2s ease;
		flex-shrink: 0; /* Prevent shrinking */
	}

	.custom-checkbox::after {
		content: "";
		position: absolute;
		display: none; /* Hidden when not checked */
		/* Adjusted checkmark position for smaller box */
		left: 5px;
		top: 1px;
		width: 4px;
		height: 9px;
		border: solid var(--link-highlight-text); /* Checkmark color */
		border-width: 0 2px 2px 0;
		transform: rotate(45deg);
	}

	.custom-checkbox.checked {
		background-color: var(--brand-accent);
		border-color: var(--brand-accent);
	}

	.custom-checkbox.checked::after {
		display: block; /* Show checkmark */
	}
</style>
